---
title: Update Moment URI
---

# Update Moment URI

This page documents the API endpoint for updating the URI (metadata) of an existing Moment on the In Process protocol. This endpoint allows artists to update the metadata URI associated with their Moments.

> **Note:** Only Moment admins can update the URI.

## Endpoint

```http
POST https://inprocess.fun/api/moment/update-uri
```

## Authentication

Include an API key in the x-api-key header for authorization:

```http
x-api-key: <artist_api_key>
```

<details>
<summary>Show more</summary>

See [Create an Artist API Key](/artists/api-keys/create) for how to create API keys.

</details>

## Request Body

Send a JSON object with the following fields:

```json
{
  "moment": {
    "collectionAddress": "string", // Contract address of the Moment
    "tokenId": "string" // Token ID of the Moment to update
    "chainId": "number" // Chain ID (default: Base 8453)
  },
  "newUri": "string" // New metadata URI (e.g., Arweave URI)
}
```

### Body Parameters

| Name                   | Type   | Required | Description                                  |
| ---------------------- | ------ | -------- | -------------------------------------------- |
| moment                 | object | Yes      | Object containing the Moment identifier      |
| moment.contractAddress | string | Yes      | The contract address of the Moment to update |
| moment.tokenId         | string | Yes      | The token ID of the Moment to update         |
| newUri                 | string | Yes      | The new metadata URI to set for the Moment   |

## Example Requests

:::code-group

```bash [cURL]
curl -X POST https://inprocess.fun/api/moment/update-uri \
  -H "Content-Type: application/json" \
  -H "x-api-key: art_sk_3fnm4...f6w4" \
  -d '{
    "moment": {
      "contractAddress": "0x06a701Ae65582B92Af48cDff45a8B20DcA3714cA",
      "tokenId": "1"
    },
    "newUri": "ar://new-metadata-uri"
  }'
```

```python [Python]
import requests

url = "https://inprocess.fun/api/moment/update-uri"
headers = {
  "Content-Type": "application/json",
  "x-api-key": "art_sk_3fnm4...f6w4"
}
payload = {
    "moment": {
        "contractAddress": "0x06a701Ae65582B92Af48cDff45a8B20DcA3714cA",
        "tokenId": "1"
    },
    "newUri": "ar://new-metadata-uri"
}
response = requests.post(url, json=payload, headers=headers)
print(response.json())
```

```javascript [JavaScript]
const response = await fetch("https://inprocess.fun/api/moment/update-uri", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "x-api-key": "art_sk_3fnm4...f6w4",
  },
  body: JSON.stringify({
    moment: {
      contractAddress: "0x06a701Ae65582B92Af48cDff45a8B20DcA3714cA",
      tokenId: "1",
    },
    newUri: "ar://new-metadata-uri",
  }),
});
const data = await response.json();
console.log(data);
```

```typescript [TypeScript]
interface UpdateMomentURIRequest {
  moment: {
    contractAddress: string;
    tokenId: string;
  };
  newUri: string;
}

const payload: UpdateMomentURIRequest = {
  moment: {
    contractAddress: "0x06a701Ae65582B92Af48cDff45a8B20DcA3714cA",
    tokenId: "1",
  },
  newUri: "ar://new-metadata-uri",
};

const response = await fetch("https://inprocess.fun/api/moment/update-uri", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "x-api-key": "art_sk_3fnm4...f6w4",
  },
  body: JSON.stringify(payload),
});
const data = await response.json();
console.log(data);
```

:::

## Example Success Response

```json
{
  "hash": "0xTransactionHash",
  "chainId": 8453
}
```

### Response Fields

| Name    | Type   | Description                                 |
| ------- | ------ | ------------------------------------------- |
| hash    | string | Transaction hash of the update operation    |
| chainId | number | Chain ID where the transaction was executed |

## Example Error Response

If an error occurs (e.g., invalid input, unauthorized access, or transaction failure), the API returns:

```json
{
  "message": "Invalid input",
  "errors": [
    {
      "field": "moment.contractAddress",
      "message": "Required"
    }
  ]
}
```

Or for server errors:

```json
{
  "message": "failed to update moment URI"
}
```

## Notes

- The URI update is executed onchain via a smart account transaction
- Only Moment admins can update the URI
- The transaction is processed using Coinbase CDP (Coinbase Developer Platform)
- The `tokenId` should be provided as a string, even if it's a numeric value
